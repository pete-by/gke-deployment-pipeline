
metadata:
  labels:
    app: rest-demo-service
spec:
  securityContext:
    fsGroup: 1000
  volumes:
    - name: maven-repo-pv
      persistentVolumeClaim:
        claimName: maven-repo-pvc
  containers:
    - name: jnlp
      env:
        - name: CONTAINER_ENV_VAR
          value: jnlp
      securityContext:
        runAsUser: 1000
        runAsGroup: 1000
    - name: helm
      image: alpine/helm:2.14.0
      securityContext:
        runAsUser: 1000
        runAsGroup: 1000
      tty: true
      command: ["cat"]
    - name: kustomize
      image: peteby/kustomize:v3.9.1
      securityContext:
        runAsUser: 1000
        runAsGroup: 1000
      tty: true
      command: [ "cat" ]
#    - name: kubectl
#      image: bitnami/kubectl:1.20
#      securityContext:
#        runAsUser: 1000
#        runAsGroup: 1000
#      tty: true
#      command: [ "cat" ]
  imagePullSecrets:
    - name: regcred